/* Dark sci-fi base */
:root{
  --bg:#05060a;
  --panel:#071124;
  --accent:#5ee7ff;
  --muted:#7b8a93;
  --glass: rgba(255,255,255,0.03);
  --glass-2: rgba(94,231,255,0.04);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;color:#dff8ff;background:linear-gradient(180deg,#02040a 0%,#07101a 100%)}

/* topbar */
.topbar{
  position:fixed;left:0;right:0;top:0;height:64px;display:flex;align-items:center;justify-content:space-between;padding:8px 20px;
  backdrop-filter: blur(6px);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
  border-bottom:1px solid rgba(255,255,255,0.03); z-index:40;
}
.brand{font-weight:700;letter-spacing:.6px;color:var(--accent)}
.controls{display:flex;gap:8px}
.controls button{
  background:transparent;border:1px solid rgba(255,255,255,0.05);color:var(--muted);padding:8px 12px;border-radius:8px;cursor:pointer;font-weight:600;
}
.controls button:hover{color:#e6fbff;transform:translateY(-2px)}

/* layout */
#stage{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;padding:90px 30px 30px;max-width:1300px;margin:0 auto;width:100%}
.panel{
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  border-radius:12px;padding:26px;min-height:360px;position:relative;overflow:hidden;
  border:1px solid rgba(94,231,255,0.03);box-shadow:0 10px 40px rgba(2,6,12,0.6);
  transition:transform .28s ease, box-shadow .28s ease, opacity .28s;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
}
.panel:not(.active){opacity:.5;transform:scale(.99)}
.panel-title{margin:0 0 14px;color:var(--accent);font-size:18px;letter-spacing:.6px}

/* NOTES aside */
.notes{
  position:fixed;right:20px;bottom:20px;width:320px;padding:16px;border-radius:12px;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.03);box-shadow:0 12px 44px rgba(0,0,0,.6);color:var(--muted);
}
.notes h3{color:var(--accent);margin:0 0 8px}
.footer{margin-top:12px;font-size:12px;color:#7f97a0}

/* ---------- Illusion styles ---------- */

/* 1. Moving Gradient Wall */
.moving-wall{
  width:100%;height:220px;border-radius:10px;overflow:hidden;
  background:
    radial-gradient(60% 60% at 10% 20%, rgba(94,231,255,0.06), transparent 10%),
    repeating-linear-gradient(90deg, rgba(10,20,30,0.9) 0 6%, rgba(14,30,40,0.8) 6% 12%),
    linear-gradient(90deg, rgba(12,26,40,0.8), rgba(2,10,18,0.6));
  filter:contrast(1.08) saturate(1.2);
  position:relative;
}
/* static bands create apparent drift when combined with subtle overlay animation */
.moving-wall::after{
  content:"";position:absolute;inset:0;mix-blend-mode:screen;
  background: linear-gradient(120deg, rgba(94,231,255,0.02), rgba(255,255,255,0.01), rgba(0,0,0,0));
  transform-origin:center; animation:ghostShift 9s linear infinite;
}
@keyframes ghostShift{0%{transform:translateX(-15%)}50%{transform:translateX(15%)}100%{transform:translateX(-15%)}}

/* 2. Breathing Circle */
.breath-wrap{width:220px;height:220px;display:grid;place-items:center}
.breath-circle{
  width:110px;height:110px;border-radius:50%;
  background: radial-gradient(circle at 35% 30%, #9ff3ff 0 12%, transparent 25%), linear-gradient(180deg,#02314a,#001826);
  box-shadow:0 0 40px rgba(94,231,255,0.12), inset 0 -8px 20px rgba(0,0,0,0.5);
  animation:breath 3.6s cubic-bezier(.4,0,.2,1) infinite;
}
@keyframes breath{
  0%{transform:scale(.86);filter:brightness(.95)}
  45%{transform:scale(1.12);filter:brightness(1.12)}
  100%{transform:scale(.86);filter:brightness(.95)}
}

/* 3. Impossible Square */
.impossible-square{
  width:200px;height:200px;position:relative;
  transform: rotate(22deg) skew(0);
}
.impossible-square::before,
.impossible-square::after{
  content:"";position:absolute;inset:20px;border-radius:6px;
  background:linear-gradient(180deg,#061a26,#04202b);
  transform-origin:center; box-shadow:0 12px 30px rgba(0,0,0,.6);
}
/* create the illusion via layered pseudo elements and clever shadows */
.impossible-square::before{transform:skewX(-22deg);box-shadow: -12px 18px 30px rgba(0,0,0,.6), inset 0 6px 14px rgba(0,0,0,.4)}
.impossible-square::after{transform:skewX(22deg) translateY(6px); box-shadow: 12px -8px 24px rgba(0,0,0,.5)}

/* 4. Stacked Text */
.stacked-text{position:relative; width:100%; display:grid;place-items:center; height:180px}
.stacked-text span{
  position:absolute;font-size:36px;font-weight:800;letter-spacing:4px;text-transform:uppercase;
  color:transparent;-webkit-text-stroke:1px rgba(150,240,255,0.15);
  mix-blend-mode:screen;
}
.stacked-text span:nth-child(1){transform:translateY(-6px); color:rgba(94,231,255,0.06); text-shadow: 0 6px 18px rgba(0,0,0,.7)}
.stacked-text span:nth-child(2){transform:translateY(0px); color:rgba(94,231,255,0.14); text-shadow: 0 10px 22px rgba(0,0,0,.65)}
.stacked-text span:nth-child(3){transform:translateY(6px); color:var(--accent); filter:drop-shadow(0 12px 28px rgba(0,0,0,.6))}

/* 5. Hover Warp */
.warp{
  width:100%;height:240px;border-radius:10px;position:relative;overflow:hidden;background:
  radial-gradient(circle at var(--mx,50%) var(--my,50%), rgba(94,231,255,0.06), transparent 12%),
  conic-gradient(from 120deg, rgba(8,18,26,0.75), rgba(6,12,18,0.6));
  transition:background 200ms linear;
  --mx:50%;--my:50%;
}
.warp::before{
  content:"";position:absolute;inset:-20%;background:
  repeating-radial-gradient(circle at var(--mx,50%) var(--my,50%), rgba(94,231,255,0.03) 0 8px, transparent 8px 16px);
  transform:translateZ(0); mix-blend-mode:overlay; filter:blur(6px); opacity:.9;
  transition:opacity .2s ease;
}

/* 6. Infinity Tunnel */
.tunnel{width:100%;height:240px;display:grid;place-items:center;perspective:900px}
.rings{
  width:320px;height:320px;position:relative;transform-style:preserve-3d;animation:push 6.2s linear infinite;
}
.rings::before,
.rings::after{
  content:"";position:absolute;inset:0;border-radius:50%;box-shadow:0 0 120px rgba(94,231,255,0.03), inset 0 6px 30px rgba(0,0,0,.6);
}
@keyframes push{
  0%{transform:translateZ(-200px) scale(.2) rotateZ(0)}
  50%{transform:translateZ(20px) scale(1.0) rotateZ(8deg)}
  100%{transform:translateZ(-200px) scale(.2) rotateZ(16deg)}
}

/* responsive */
@media (max-width:1100px){
  #stage{grid-template-columns:repeat(2,1fr);padding:90px 16px 16px}
}
@media (max-width:700px){
  #stage{grid-template-columns:1fr;padding:90px 8px 8px}
  .notes{display:none}
}

.notes.hidden{transform:translateX(120%);opacity:0}
.notes{transition:transform .3s ease, opacity .3s ease}
